@addTagHelper *, Web
@model IndexViewModel
@{
    ViewData["Title"] = "MoviesOfGenreViewModel";
}

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span style="color:honeydew">Подпишись</span>
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="#">
                <svg class="bi bi-cursor" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103zM2.25 8.184l3.897 1.67a.5.5 0 0 1 .262.263l1.67 3.897L12.743 3.52 2.25 8.184z" />
                </svg>Telegram
            </a>
            <a class="dropdown-item" href="#"><img src="~/Icons/facebook.jfif" alt="facepiss" width="15em" height="15em" />Facebook</a>
            <a class="dropdown-item" href="#"><img src="~/Icons/VK.png" alt="vkpiss" width="20em" height="20em" />ВКонтакте</a>
        </div>
        <div class="navbar-nav mx-auto">
            <a class="nav-item nav-link" style="font-size: x-large" asp-action="Index" asp-controller="Home">Фильмотека</a>
        </div>
        <div class="navbar-nav">
            <a class="btn btn-secondary" asp-action="Register" asp-controller="Account">Регистрация</a>
        </div>
        <div class="navbar-nav ml-1">
            <a class="btn btn-secondary" asp-action="Login" asp-controller="Account">Вход</a>
        </div>
    </nav>
    <nav class="navbar navbar-expand-lg navbar-dark bg-light">
        <ul id="multicol-menu" class="navbar-nav mr-auto mt-2 mt-lg-0">
            <li class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" role="button" style="color:black" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Фильмы </a>
                <ul class="dropdown-menu">
                    <li>
                        <h6 class="dropdown-header">Жанры</h6>
                        <div class="row" style="width: 675px;">
                            <ul class="list-unstyled col-md-3">
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="26">Боевик</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="27">Вестерн</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="28">Гангстерские</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="29">Детектив</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="43">Катастрофа</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="44">Биографические</a></li>
                            </ul>
                            <ul class="list-unstyled col-md-3">
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="24">Драма</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="30">Исторические</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="34">Нуар</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="39">Трагикомедия</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="45">Криминал</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="42">Ужасы</a></li>
                            </ul>
                            <ul class="list-unstyled col-md-3">
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="31">Комедия</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="32">Мелодрама</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="33">Мюзикл</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="35">Политические</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="40">Триллер</a></li>
                            </ul>
                            <ul class="list-unstyled col-md-3">
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="36">Приключение</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="25">Мультфильм</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="37">Сказка</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="38">Трагедия</a></li>
                                <li><a class="dropdown-item" asp-action="MoviesOfGenre" asp-route-id="41">Фантастика</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" style="color: black">Жанры</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" style="color: black">Корзина</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" style="color: black">Про нас</a>
            </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="search" placeholder="Поиск">
            <button class="btn btn-outline-dark my-2 my-sm-0" type="submit">Найти фильм</button>
        </form>
    </nav>

    <div class="container">
        <div class="row">
            @foreach (var item in Model.Movies)
            {
                <div class="card col-4 mt-3 p-0">
                    <img src="~/MovieImages/@item.Image" class="card-img-top" style="height: 400px" alt="piss" />
                    <div class="card-body">
                        <h5 class="card-title text-center">@item.Name</h5>
                    </div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            Дата релиза: @item.ReleaseDate.ToString("MM/dd/yyyy")
                        </li>
                        <li class="list-group-item">
                            @{
                                string genres = String.Join(", ", item.MovieGenres);
                            }
                            Жанры: @genres
                        </li>
                        <li class="list-group-item">
                            Режиссёр: @item.Director
                        </li>
                        <li class="list-group-item">
                            Цена: @item.Price$
                        </li>
                        <li class="list-group-item mx-auto mt-1">
                            <a class="btn btn-info" asp-action="MovieDetails" asp-controller="Home" asp-route-id="@item.Id">Детали</a>
                        </li>
                    </ul>
                </div>
            }
        </div>
    </div>
    <nav aria-label="Page nav">
        <ul class="pagination justify-content-center">
            @if (Model.PageViewModel.HasPreviousPage)
            {
                <li class="page-item">
                    <a asp-action="Index"
                       asp-route-page="@(Model.PageViewModel.PageNumber - 1)"
                       class="btn btn-outline-primary text-center mt-3">
                        <i class="glyphicon glyphicon-chevron-left"></i>
                        Назад
                    </a>
                </li>
            }
            <page-link page-model="@Model.PageViewModel" page-action="Index"></page-link>
            @if (Model.PageViewModel.HasNextPage)
            {
                <li class="page-item">
                    <a asp-action="Index"
                       asp-route-page="@(Model.PageViewModel.PageNumber + 1)"
                       class="btn btn-outline-primary text-center mt-3">
                        Вперед
                        <i class="glyphicon glyphicon-chevron-right"></i>
                    </a>
                </li>
            }
        </ul>
    </nav>
</body>
